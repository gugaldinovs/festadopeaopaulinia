(function(){function L(){return new Promise((F)=>{if(window.gtag){F();return}let C=document.createElement("script");C.async=!0,C.src="https://www.googletagmanager.com/gtag/js",C.onload=()=>{F()},document.head.appendChild(C),window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date)})}function M(){let F=document.currentScript;if(!F)return;let C=new URL(F.src),j=C.searchParams.get("event"),K=C.searchParams.get("data");if(!K)return;let q;try{let f=decodeURIComponent(K);q=JSON.parse(f)}catch(f){return}let H=q.id_googleads;if(!H||!Array.isArray(H)||H.length===0)return;if(delete q.id_googleads,j.trim()!=="purchase")H.forEach((f)=>{gtag("config",f.trim())});if(j.trim()==="purchase"&&q?.context_data?.purchase?.email)gtag("set","user_data",{email:q?.context_data?.purchase?.email});if(j.trim()==="purchase")H.forEach((f)=>{gtag("config",f.trim(),{allow_enhanced_conversions:!0})});if(!(j&&j.trim()!==""))return;if(j.trim()==="purchase"){let{conversion_labels:f,context_data:k}=q;if(f.length>0)f.forEach((w)=>{gtag("event","purchase",{send_to:w,value:k?.purchase?.valor_total,currency:k?.purchase?.moeda,transaction_id:String(k?.purchase?.id_venda),items:k?.purchase?.itens}),gtag("event","conversion",{send_to:w,value:k?.purchase?.valor_total,currency:k?.purchase?.moeda,transaction_id:String(k?.purchase?.id_venda)})})}if(j.trim()==="add_to_cart"){let{value:f,currency:k,items:w}=q;gtag("event","add_to_cart",{value:f,currency:k,items:w})}if(j.trim()==="begin_checkout"){let{value:f,currency:k,items:w}=q;gtag("event","begin_checkout",{value:f,currency:k,items:w})}if(j.trim()==="view_item"){let{value:f,currency:k,items:w}=q;gtag("event","view_item",{value:f,currency:k,items:w})}if(j.trim()==="search"){let{search_term:f}=q;gtag("event","search",{search_term:f})}if(j.trim()==="sign_up")gtag("event","sign_up");if(j.trim()==="login")gtag("event","login");if(!["conversion","purchase","add_to_cart","begin_checkout","view_item","search","sign_up","login"].includes(j.trim()))gtag("event",j.trim(),q)}L().then(()=>{M()})})();
